{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"HTTPX Tenacity","text":"<p>A lightweight package that provides tenacious (retrying) httpx transports.</p>"},{"location":"#installation","title":"Installation","text":"<p>The package is published on PyPI. Install it, for example, with pip.</p> <pre><code>pip install httpx-tenacity\n</code></pre>"},{"location":"#copyright","title":"Copyright","text":"<ul> <li>Copyright \u00a9 2026 Moritz E. Beber.</li> <li>Free software distributed under the Apache Software License     2.0.</li> </ul>"},{"location":"api/","title":"Reference API","text":"<p>The following classes are exposed to the user:</p> <ul> <li><code>TenaciousTransport</code></li> <li><code>AsyncTenaciousTransport</code></li> </ul>"},{"location":"api/#httpx_tenacity","title":"<code>httpx_tenacity</code>","text":"<p>Provide top level symbols.</p>"},{"location":"api/#httpx_tenacity.TenaciousTransport","title":"<code>TenaciousTransport</code>","text":"<p>               Bases: <code>BaseTransport</code></p> <p>Define the synchronous tenacious (retrying) transport.</p> <p>This transport consists of a composed transport for handling requests and an appropriately configured tenacity retrying instance.</p>"},{"location":"api/#httpx_tenacity.TenaciousTransport.__init__","title":"<code>__init__(*, retry: tenacity.Retrying, transport: httpx.BaseTransport, **kwargs: dict[str, object]) -&gt; None</code>","text":""},{"location":"api/#httpx_tenacity.TenaciousTransport.create","title":"<code>create(max_attempts: int = 5, multiplier: float = 1, max_wait_seconds: float | timedelta = 60, min_wait_seconds: float | timedelta = 0.02, exponent_base: float = 2, **kwargs: Unpack[HTTPXHTTPTransportKeywordArguments]) -&gt; TenaciousTransport</code>  <code>classmethod</code>","text":"<p>Create an instance of a synchronous tenacious (retrying) transport.</p> <p>This factory method constructs the instance with an underlying <code>httpx.HTTPTransport</code>. That transport is passed any additional keyword arguments.</p> <p>The constructed transport retries requests when there are server-side issues and will either wait the time set in a Retry-After response header or use a random exponential backoff.</p> <p>Parameters:</p> Name Type Description Default <code>max_attempts</code> <code>int</code> <p>Maximum number of attempts.</p> <code>5</code> <code>multiplier</code> <code>float</code> <p>Multiplier for the exponential backoff between retries.</p> <code>1</code> <code>max_wait_seconds</code> <code>float | timedelta</code> <p>Maximum wait time between retries.</p> <code>60</code> <code>min_wait_seconds</code> <code>float | timedelta</code> <p>Minimum wait time between retries.</p> <code>0.02</code> <code>exponent_base</code> <code>float</code> <p>The base for the exponential backoff.</p> <code>2</code> <code>**kwargs</code> <code>Unpack[HTTPXHTTPTransportKeywordArguments]</code> <p>Additional keyword arguments are used in the construction of an <code>httpx.HTTPTransport</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>TenaciousTransport</code> <p>A default instance of the class created from the given arguments.</p>"},{"location":"api/#httpx_tenacity.TenaciousTransport.handle_request","title":"<code>handle_request(request: httpx.Request) -&gt; httpx.Response</code>","text":"<p>Handle a synchronous request with retrying.</p>"},{"location":"api/#httpx_tenacity.AsyncTenaciousTransport","title":"<code>AsyncTenaciousTransport</code>","text":"<p>               Bases: <code>AsyncBaseTransport</code></p> <p>Define the asynchronous tenacious (retrying) transport.</p> <p>This transport consists of a composed transport for handling requests and an appropriately configured tenacity retrying instance.</p>"},{"location":"api/#httpx_tenacity.AsyncTenaciousTransport.__init__","title":"<code>__init__(*, retry: tenacity.AsyncRetrying, transport: httpx.AsyncBaseTransport, **kwargs: dict[str, object]) -&gt; None</code>","text":""},{"location":"api/#httpx_tenacity.AsyncTenaciousTransport.create","title":"<code>create(max_attempts: int = 5, multiplier: float = 1, max_wait_seconds: float | timedelta = 60, min_wait_seconds: float | timedelta = 0.02, exponent_base: float = 2, **kwargs: Unpack[HTTPXHTTPTransportKeywordArguments]) -&gt; AsyncTenaciousTransport</code>  <code>classmethod</code>","text":"<p>Create an instance of an asynchronous tenacious (retrying) transport.</p> <p>This factory method constructs the instance with an underlying <code>httpx.AsyncHTTPTransport</code>. That transport is passed any additional keyword arguments.</p> <p>The constructed transport retries requests when there are server-side issues and will either wait the time set in a Retry-After response header or use a random exponential backoff.</p> <p>Parameters:</p> Name Type Description Default <code>max_attempts</code> <code>int</code> <p>Maximum number of attempts.</p> <code>5</code> <code>multiplier</code> <code>float</code> <p>Multiplier for the exponential backoff between retries.</p> <code>1</code> <code>max_wait_seconds</code> <code>float | timedelta</code> <p>Maximum wait time between retries.</p> <code>60</code> <code>min_wait_seconds</code> <code>float | timedelta</code> <p>Minimum wait time between retries.</p> <code>0.02</code> <code>exponent_base</code> <code>float</code> <p>The base for the exponential backoff.</p> <code>2</code> <code>**kwargs</code> <code>Unpack[HTTPXHTTPTransportKeywordArguments]</code> <p>Additional keyword arguments are used in the construction of an <code>httpx.AsyncHTTPTransport</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>AsyncTenaciousTransport</code> <p>A default instance of the class created from the given arguments.</p>"},{"location":"api/#httpx_tenacity.AsyncTenaciousTransport.handle_async_request","title":"<code>handle_async_request(request: httpx.Request) -&gt; httpx.Response</code>  <code>async</code>","text":"<p>Handle an asynchronous request with retrying.</p>"},{"location":"tutorial/","title":"Tutorial","text":""},{"location":"tutorial/#overview","title":"Overview","text":"<p>httpx-tenacity provides two transport classes that add automatic retry logic to HTTPX:</p> <ul> <li><code>TenaciousTransport</code>: Synchronous     transport for blocking requests</li> <li><code>AsyncTenaciousTransport</code>:     Asynchronous transport for async/await requests</li> </ul> <p>Both transports, when created with the default factory, automatically retry requests when encountering server-side issues (HTTP 5xx errors and 429 Too Many Requests responses) using exponential backoff with optional Retry-After header support.</p>"},{"location":"tutorial/#synchronous-usage","title":"Synchronous Usage","text":""},{"location":"tutorial/#basic-setup","title":"Basic Setup","text":"<p>Create a client with automatic retry logic:</p> <pre><code>import httpx\nfrom httpx_tenacity import TenaciousTransport\n\ntransport = TenaciousTransport.create()\nclient = httpx.Client(transport=transport)\n\nresponse = client.get(\"https://api.example.com/data\")\n</code></pre> <p>The <code>create()</code> method constructs a transport with sensible defaults:</p> <ul> <li>Maximum 5 retry attempts</li> <li>Exponential backoff with base 2</li> <li>Minimum wait of 0.02 seconds between retries</li> <li>Maximum wait of 60 seconds between retries</li> </ul>"},{"location":"tutorial/#configuring-retry-behavior","title":"Configuring Retry Behavior","text":"<p>Adjust retry parameters when creating the transport:</p> <pre><code>transport = TenaciousTransport.create(\n    max_attempts=10,           # Try up to 10 times\n    multiplier=2,              # Exponential backoff multiplier\n    min_wait_seconds=0.1,      # Minimum 0.1 second between retries\n    max_wait_seconds=120,      # Maximum 2 minutes between retries\n    exponent_base=2,           # Base for exponential calculation\n)\nclient = httpx.Client(transport=transport)\n</code></pre>"},{"location":"tutorial/#passing-transport-configuration","title":"Passing Transport Configuration","text":"<p>Additional keyword arguments are passed to the underlying HTTPX transport:</p> <pre><code>transport = TenaciousTransport.create(\n    max_attempts=5,\n    verify=False,              # Disable SSL verification\n    limits=httpx.Limits(max_connections=10),\n)\nclient = httpx.Client(transport=transport)\n</code></pre>"},{"location":"tutorial/#monitoring-retries","title":"Monitoring Retries","text":"<p>Retries are logged at DEBUG level. Enable debug logging to see retry activity:</p> <pre><code>import logging\n\nlogging.basicConfig(level=logging.DEBUG)\n</code></pre>"},{"location":"tutorial/#completely-custom-retry-logic","title":"Completely Custom Retry Logic","text":"<p>For full control over retry behavior, provide a custom tenacity <code>Retrying</code> instance:</p> <pre><code>from tenacity import Retrying, stop_after_attempt, wait_fixed\nfrom httpx_tenacity import TenaciousTransport\n\ntransport = TenaciousTransport(retry=Retrying(\n    stop=stop_after_attempt(3),\n    wait=wait_fixed(1),\n))\nclient = httpx.Client(transport=transport)\n</code></pre>"},{"location":"tutorial/#asynchronous-usage","title":"Asynchronous Usage","text":"<p>The asynchronous transport works in an analogous manner and can be configured as described above for the synchronous transport. Retrying also works with concurrent requests over the same transport instance.</p> <pre><code>import anyio\nimport httpx\nfrom httpx_tenacity import AsyncTenaciousTransport\n\n\nasync def fetch_data():\n    async with (\n        httpx.AsyncClient(transport=AsyncTenaciousTransport.create()) as client,\n        anyio.create_task_group() as tg,\n    ):\n        tg.start_soon(client.get, \"https://api.example.com/data\")\n        tg.start_soon(client.post, \"https://api.example.com/data\")\n</code></pre>"}]}